<html>
<head>
  <script type="text/javascript" src="lib/howler.js"></script>
  <script type="text/javascript" src="lib/require.js"></script>
</head>
<body onkeydown="Engine && Engine.onKeyDown(event);" onkeyup="Engine && Engine.onKeyUp(event);" onClick="start()">
  <canvas id="canvas" width="800" height="600"></canvas>
  <script type="text/javascript">
    started = false;
    function start() {
      if (started) {
        return;
      }
      started = true;
      requirejs(["build/Engine/Engine", "build/Game/Game"], function(Engine, Game) {
        Engine.initialize(document.getElementById("canvas"));
        // Start the loop before initializing the game. Otherwise the first frame has weird timing.
        Engine.startLoop(10);
        Game.initialize();
        window.Engine = Engine;
      });
    }
  </script>
</body>
</html>
